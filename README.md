# AtverterE-Based MPPT Controller
<!-- (docs/interface.jpg) -->

This project consists of code for two primary components:
- An MPPT controller program running on an AtverterE programmable DC-DC converter
- A web interface displaying data from the MPPT controller, running on a Raspberry Pi 

## MPPT Controller
<!-- (docs/atverter.jpg) -->

The MPPT controller implements an incremental conductance (IC) algorithm running on an ATMEGA328p built into the AtverterE board.
For proper data to be read from this board, the ```calibration.cpp``` file must be flashed, and values for ```VL_scale, VL_offset, VH_scale, and VH_offset``` must be determined manually. 
These values can then be saved into their corresponding variables in the file ```/src/MPPT_wider_ranges_AVG_no_PID.cpp```.
This file must then be flashed to the ATMEGA chip for full MPPT operation.

This program was tested with a 24V solar panel on the high side terminals, and a 12V battery on the low side terminals, with the AtverterE funcitioning as a buck converter.

### Maximum voltage and current limits:
The AtverterE board supports up to 60V, approximately 5A of maximum current on input and output. However, maximum sustained power transfer should be limited to 170W or below **with active cooling**.

Due to limitations of the AtverterE board, this MPPT program only implements low-side overvoltage protection in software, and over-current protection must be implemented in hardware, with in-line fuses or circuit breakers.

## Web Interface
<!-- (docs/interface.jpg) -->

This web interface graphs recent voltage and current readings from the MPPT controller, allowing quick monitoring of system performance.

This interface reads and plots data from a ```data.json``` file located in the same directory as the ```index.html``` file.
This ```data.json``` file is generated by ```UART.py```, a Python script which communicates with the AtverterE over serial.

This ```UART.py``` script, as well as the web server itself, should both be configured to run at startup on the Raspberry Pi.

### Connecting AtverterE to Raspberry Pi
The serial connection between the AtverterE and the Raspberry Pi can be accomplished in two different ways:
- Using the Pi's built-in GPIO as a tty serial port
- Connecting a USB FTDI cable to the AtverterE

Depending on the connection method, a different COM port may need to be set in ```UART.py```